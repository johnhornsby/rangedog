/**
 * @license almond 0.3.1 Copyright (c) 2011-2014, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/jrburke/almond for details
 */

/*!
 * eventie v1.0.6
 * event binding helper
 *   eventie.bind( elem, 'click', myFn )
 *   eventie.unbind( elem, 'click', myFn )
 * MIT license
 */

/*!
 * EventEmitter v4.2.11 - git.io/ee
 * Unlicense - http://unlicense.org/
 * Oliver Caldwell - http://oli.me.uk/
 * @preserve
 */

/*!
 * Unipointer v1.1.0
 * base class for doing one thing with pointer event
 * MIT license
 */

/*!
 * Unidragger v1.1.3
 * Draggable base class
 * MIT license
 */

var requirejs,require,define;(function(e){function h(e,t){return f.call(e,t)}function p(e,t){var n,r,i,s,o,a,f,l,h,p,d,v=t&&t.split("/"),m=u.map,g=m&&m["*"]||{};if(e&&e.charAt(0)===".")if(t){e=e.split("/"),o=e.length-1,u.nodeIdCompat&&c.test(e[o])&&(e[o]=e[o].replace(c,"")),e=v.slice(0,v.length-1).concat(e);for(h=0;h<e.length;h+=1){d=e[h];if(d===".")e.splice(h,1),h-=1;else if(d===".."){if(h===1&&(e[2]===".."||e[0]===".."))break;h>0&&(e.splice(h-1,2),h-=2)}}e=e.join("/")}else e.indexOf("./")===0&&(e=e.substring(2));if((v||g)&&m){n=e.split("/");for(h=n.length;h>0;h-=1){r=n.slice(0,h).join("/");if(v)for(p=v.length;p>0;p-=1){i=m[v.slice(0,p).join("/")];if(i){i=i[r];if(i){s=i,a=h;break}}}if(s)break;!f&&g&&g[r]&&(f=g[r],l=h)}!s&&f&&(s=f,a=l),s&&(n.splice(0,a,s),e=n.join("/"))}return e}function d(t,r){return function(){var i=l.call(arguments,0);return typeof i[0]!="string"&&i.length===1&&i.push(null),n.apply(e,i.concat([t,r]))}}function v(e){return function(t){return p(t,e)}}function m(e){return function(t){s[e]=t}}function g(n){if(h(o,n)){var r=o[n];delete o[n],a[n]=!0,t.apply(e,r)}if(!h(s,n)&&!h(a,n))throw new Error("No "+n);return s[n]}function y(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function b(e){return function(){return u&&u.config&&u.config[e]||{}}}var t,n,r,i,s={},o={},u={},a={},f=Object.prototype.hasOwnProperty,l=[].slice,c=/\.js$/;r=function(e,t){var n,r=y(e),i=r[0];return e=r[1],i&&(i=p(i,t),n=g(i)),i?n&&n.normalize?e=n.normalize(e,v(t)):e=p(e,t):(e=p(e,t),r=y(e),i=r[0],e=r[1],i&&(n=g(i))),{f:i?i+"!"+e:e,n:e,pr:i,p:n}},i={require:function(e){return d(e)},exports:function(e){var t=s[e];return typeof t!="undefined"?t:s[e]={}},module:function(e){return{id:e,uri:"",exports:s[e],config:b(e)}}},t=function(t,n,u,f){var l,c,p,v,y,b=[],w=typeof u,E;f=f||t;if(w==="undefined"||w==="function"){n=!n.length&&u.length?["require","exports","module"]:n;for(y=0;y<n.length;y+=1){v=r(n[y],f),c=v.f;if(c==="require")b[y]=i.require(t);else if(c==="exports")b[y]=i.exports(t),E=!0;else if(c==="module")l=b[y]=i.module(t);else if(h(s,c)||h(o,c)||h(a,c))b[y]=g(c);else{if(!v.p)throw new Error(t+" missing "+c);v.p.load(v.n,d(f,!0),m(c),{}),b[y]=s[c]}}p=u?u.apply(s[t],b):undefined;if(t)if(l&&l.exports!==e&&l.exports!==s[t])s[t]=l.exports;else if(p!==e||!E)s[t]=p}else t&&(s[t]=u)},requirejs=require=n=function(s,o,a,f,l){if(typeof s=="string")return i[s]?i[s](o):g(r(s,o).f);if(!s.splice){u=s,u.deps&&n(u.deps,u.callback);if(!o)return;o.splice?(s=o,o=a,a=null):s=e}return o=o||function(){},typeof a=="function"&&(a=f,f=l),f?t(e,s,o,a):setTimeout(function(){t(e,s,o,a)},4),n},n.config=function(e){return n(e)},requirejs._defined=s,define=function(e,t,n){if(typeof e!="string")throw new Error("See almond README: incorrect module build, no module name");t.splice||(n=t,t=[]),!h(s,e)&&!h(o,e)&&(o[e]=[e,t,n])},define.amd={jQuery:!0}})(),define("almond",function(){}),function(e){function r(t){var n=e.event;return n.target=n.target||n.srcElement||t,n}var t=document.documentElement,n=function(){};t.addEventListener?n=function(e,t,n){e.addEventListener(t,n,!1)}:t.attachEvent&&(n=function(e,t,n){e[t+n]=n.handleEvent?function(){var t=r(e);n.handleEvent.call(n,t)}:function(){var t=r(e);n.call(e,t)},e.attachEvent("on"+t,e[t+n])});var i=function(){};t.removeEventListener?i=function(e,t,n){e.removeEventListener(t,n,!1)}:t.detachEvent&&(i=function(e,t,n){e.detachEvent("on"+t,e[t+n]);try{delete e[t+n]}catch(r){e[t+n]=undefined}});var s={bind:n,unbind:i};typeof define=="function"&&define.amd?define("eventie/eventie",s):typeof exports=="object"?module.exports=s:e.eventie=s}(window),function(){"use strict";function e(){}function i(e,t){var n=e.length;while(n--)if(e[n].listener===t)return n;return-1}function s(e){return function(){return this[e].apply(this,arguments)}}var t=e.prototype,n=this,r=n.EventEmitter;t.getListeners=function(t){var n=this._getEvents(),r,i;if(t instanceof RegExp){r={};for(i in n)n.hasOwnProperty(i)&&t.test(i)&&(r[i]=n[i])}else r=n[t]||(n[t]=[]);return r},t.flattenListeners=function(t){var n=[],r;for(r=0;r<t.length;r+=1)n.push(t[r].listener);return n},t.getListenersAsObject=function(t){var n=this.getListeners(t),r;return n instanceof Array&&(r={},r[t]=n),r||n},t.addListener=function(t,n){var r=this.getListenersAsObject(t),s=typeof n=="object",o;for(o in r)r.hasOwnProperty(o)&&i(r[o],n)===-1&&r[o].push(s?n:{listener:n,once:!1});return this},t.on=s("addListener"),t.addOnceListener=function(t,n){return this.addListener(t,{listener:n,once:!0})},t.once=s("addOnceListener"),t.defineEvent=function(t){return this.getListeners(t),this},t.defineEvents=function(t){for(var n=0;n<t.length;n+=1)this.defineEvent(t[n]);return this},t.removeListener=function(t,n){var r=this.getListenersAsObject(t),s,o;for(o in r)r.hasOwnProperty(o)&&(s=i(r[o],n),s!==-1&&r[o].splice(s,1));return this},t.off=s("removeListener"),t.addListeners=function(t,n){return this.manipulateListeners(!1,t,n)},t.removeListeners=function(t,n){return this.manipulateListeners(!0,t,n)},t.manipulateListeners=function(t,n,r){var i,s,o=t?this.removeListener:this.addListener,u=t?this.removeListeners:this.addListeners;if(typeof n!="object"||n instanceof RegExp){i=r.length;while(i--)o.call(this,n,r[i])}else for(i in n)n.hasOwnProperty(i)&&(s=n[i])&&(typeof s=="function"?o.call(this,i,s):u.call(this,i,s));return this},t.removeEvent=function(t){var n=typeof t,r=this._getEvents(),i;if(n==="string")delete r[t];else if(t instanceof RegExp)for(i in r)r.hasOwnProperty(i)&&t.test(i)&&delete r[i];else delete this._events;return this},t.removeAllListeners=s("removeEvent"),t.emitEvent=function(t,n){var r=this.getListenersAsObject(t),i,s,o,u;for(o in r)if(r.hasOwnProperty(o)){s=r[o].length;while(s--)i=r[o][s],i.once===!0&&this.removeListener(t,i.listener),u=i.listener.apply(this,n||[]),u===this._getOnceReturnValue()&&this.removeListener(t,i.listener)}return this},t.trigger=s("emitEvent"),t.emit=function(t){var n=Array.prototype.slice.call(arguments,1);return this.emitEvent(t,n)},t.setOnceReturnValue=function(t){return this._onceReturnValue=t,this},t._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},t._getEvents=function(){return this._events||(this._events={})},e.noConflict=function(){return n.EventEmitter=r,e},typeof define=="function"&&define.amd?define("eventEmitter/EventEmitter",[],function(){return e}):typeof module=="object"&&module.exports?module.exports=e:n.EventEmitter=e}.call(this),function(e,t){"use strict";typeof define=="function"&&define.amd?define("unipointer/unipointer",["eventEmitter/EventEmitter","eventie/eventie"],function(n,r){return t(e,n,r)}):typeof exports=="object"?module.exports=t(e,require("wolfy87-eventemitter"),require("eventie")):e.Unipointer=t(e,e.EventEmitter,e.eventie)}(window,function(t,n,r){function i(){}function s(){}s.prototype=new n,s.prototype.bindStartEvent=function(e){this._bindStartEvent(e,!0)},s.prototype.unbindStartEvent=function(e){this._bindStartEvent(e,!1)},s.prototype._bindStartEvent=function(e,n){n=n===undefined?!0:!!n;var i=n?"bind":"unbind";t.navigator.pointerEnabled?r[i](e,"pointerdown",this):t.navigator.msPointerEnabled?r[i](e,"MSPointerDown",this):(r[i](e,"mousedown",this),r[i](e,"touchstart",this))},s.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},s.prototype.getTouch=function(e){for(var t=0,n=e.length;t<n;t++){var r=e[t];if(r.identifier==this.pointerIdentifier)return r}},s.prototype.onmousedown=function(e){var t=e.button;if(t&&t!==0&&t!==1)return;this._pointerDown(e,e)},s.prototype.ontouchstart=function(e){this._pointerDown(e,e.changedTouches[0])},s.prototype.onMSPointerDown=s.prototype.onpointerdown=function(e){this._pointerDown(e,e)},s.prototype._pointerDown=function(e,t){if(this.isPointerDown)return;this.isPointerDown=!0,this.pointerIdentifier=t.pointerId!==undefined?t.pointerId:t.identifier,this.pointerDown(e,t)},s.prototype.pointerDown=function(e,t){this._bindPostStartEvents(e),this.emitEvent("pointerDown",[e,t])};var o={mousedown:["mousemove","mouseup"],touchstart:["touchmove","touchend","touchcancel"],pointerdown:["pointermove","pointerup","pointercancel"],MSPointerDown:["MSPointerMove","MSPointerUp","MSPointerCancel"]};return s.prototype._bindPostStartEvents=function(e){if(!e)return;var n=o[e.type],i=e.preventDefault?t:document;for(var s=0,u=n.length;s<u;s++){var a=n[s];r.bind(i,a,this)}this._boundPointerEvents={events:n,node:i}},s.prototype._unbindPostStartEvents=function(){var e=this._boundPointerEvents;if(!e||!e.events)return;for(var t=0,n=e.events.length;t<n;t++){var i=e.events[t];r.unbind(e.node,i,this)}delete this._boundPointerEvents},s.prototype.onmousemove=function(e){this._pointerMove(e,e)},s.prototype.onMSPointerMove=s.prototype.onpointermove=function(e){e.pointerId==this.pointerIdentifier&&this._pointerMove(e,e)},s.prototype.ontouchmove=function(e){var t=this.getTouch(e.changedTouches);t&&this._pointerMove(e,t)},s.prototype._pointerMove=function(e,t){this.pointerMove(e,t)},s.prototype.pointerMove=function(e,t){this.emitEvent("pointerMove",[e,t])},s.prototype.onmouseup=function(e){this._pointerUp(e,e)},s.prototype.onMSPointerUp=s.prototype.onpointerup=function(e){e.pointerId==this.pointerIdentifier&&this._pointerUp(e,e)},s.prototype.ontouchend=function(e){var t=this.getTouch(e.changedTouches);t&&this._pointerUp(e,t)},s.prototype._pointerUp=function(e,t){this._pointerDone(),this.pointerUp(e,t)},s.prototype.pointerUp=function(e,t){this.emitEvent("pointerUp",[e,t])},s.prototype._pointerDone=function(){this.isPointerDown=!1,delete this.pointerIdentifier,this._unbindPostStartEvents(),this.pointerDone()},s.prototype.pointerDone=i,s.prototype.onMSPointerCancel=s.prototype.onpointercancel=function(e){e.pointerId==this.pointerIdentifier&&this._pointerCancel(e,e)},s.prototype.ontouchcancel=function(e){var t=this.getTouch(e.changedTouches);t&&this._pointerCancel(e,t)},s.prototype._pointerCancel=function(e,t){this._pointerDone(),this.pointerCancel(e,t)},s.prototype.pointerCancel=function(e,t){this.emitEvent("pointerCancel",[e,t])},s.getPointerPoint=function(e){return{x:e.pageX!==undefined?e.pageX:e.clientX,y:e.pageY!==undefined?e.pageY:e.clientY}},s}),function(e,t){"use strict";typeof define=="function"&&define.amd?define("unidragger",["eventie/eventie","unipointer/unipointer"],function(n,r){return t(e,n,r)}):typeof exports=="object"?module.exports=t(e,require("eventie"),require("unipointer")):e.Unidragger=t(e,e.eventie,e.Unipointer)}(window,function(t,n,r){function i(){}function s(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function o(){}function a(){return!1}o.prototype=new r,o.prototype.bindHandles=function(){this._bindHandles(!0)},o.prototype.unbindHandles=function(){this._bindHandles(!1)};var u=t.navigator;o.prototype._bindHandles=function(e){e=e===undefined?!0:!!e;var t;u.pointerEnabled?t=function(t){t.style.touchAction=e?"none":""}:u.msPointerEnabled?t=function(t){t.style.msTouchAction=e?"none":""}:t=function(){e&&l(o)};var r=e?"bind":"unbind";for(var i=0,s=this.handles.length;i<s;i++){var o=this.handles[i];this._bindStartEvent(o,e),t(o),n[r](o,"click",this)}};var f="attachEvent"in document.documentElement,l=f?function(e){e.nodeName=="IMG"&&(e.ondragstart=a);var t=e.querySelectorAll("img");for(var n=0,r=t.length;n<r;n++){var i=t[n];i.ondragstart=a}}:i;return o.prototype.pointerDown=function(e,t){this._dragPointerDown(e,t);var n=document.activeElement;n&&n.blur&&n.blur(),this._bindPostStartEvents(e),this.emitEvent("pointerDown",[e,t])},o.prototype._dragPointerDown=function(e,t){this.pointerDownPoint=r.getPointerPoint(t);var n=e.type=="touchstart",i=e.target.nodeName;!n&&i!="SELECT"&&s(e)},o.prototype.pointerMove=function(e,t){var n=this._dragPointerMove(e,t);this.emitEvent("pointerMove",[e,t,n]),this._dragMove(e,t,n)},o.prototype._dragPointerMove=function(e,t){var n=r.getPointerPoint(t),i={x:n.x-this.pointerDownPoint.x,y:n.y-this.pointerDownPoint.y};return!this.isDragging&&this.hasDragStarted(i)&&this._dragStart(e,t),i},o.prototype.hasDragStarted=function(e){return Math.abs(e.x)>3||Math.abs(e.y)>3},o.prototype.pointerUp=function(e,t){this.emitEvent("pointerUp",[e,t]),this._dragPointerUp(e,t)},o.prototype._dragPointerUp=function(e,t){this.isDragging?this._dragEnd(e,t):this._staticClick(e,t)},o.prototype._dragStart=function(e,t){this.isDragging=!0,this.dragStartPoint=o.getPointerPoint(t),this.isPreventingClicks=!0,this.dragStart(e,t)},o.prototype.dragStart=function(e,t){this.emitEvent("dragStart",[e,t])},o.prototype._dragMove=function(e,t,n){if(!this.isDragging)return;this.dragMove(e,t,n)},o.prototype.dragMove=function(e,t,n){s(e),this.emitEvent("dragMove",[e,t,n])},o.prototype._dragEnd=function(e,t){this.isDragging=!1;var n=this;setTimeout(function(){delete n.isPreventingClicks}),this.dragEnd(e,t)},o.prototype.dragEnd=function(e,t){this.emitEvent("dragEnd",[e,t])},o.prototype.onclick=function(e){this.isPreventingClicks&&s(e)},o.prototype._staticClick=function(e,t){var n=e.target.nodeName;(n=="INPUT"||n=="TEXTAREA")&&e.target.focus(),this.staticClick(e,t)},o.prototype.staticClick=function(e,t){this.emitEvent("staticClick",[e,t])},o.getPointerPoint=function(e){return{x:e.pageX!==undefined?e.pageX:e.clientX,y:e.pageY!==undefined?e.pageY:e.clientY}},o.getPointerPoint=r.getPointerPoint,o}),define("utils",["exports","module"],function(e,t){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(){r(this,e)}return n(e,[{key:"extend",value:function(t,n){for(var r in n)t[r]=n[r];return t}},{key:"sum",value:function t(e){var t=0,n=e.length;while(n--)t+=e[n];return t}}]),e}();t.exports=new i,function(){var e=0,t=["ms","moz","webkit","o"];for(var n=0;n<t.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[t[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[n]+"CancelAnimationFrame"]||window[t[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t,n){var r=(new Date).getTime(),i=Math.max(0,16-(r-e)),s=window.setTimeout(function(){t(r+i)},i);return e=r+i,s}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}()}),define("animators/friction",["exports","module"],function(e,t){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(){r(this,e),this.velocity=0,this.tolerance=.001,this.friction=.1,this.x=0,this.destinationX=1,this.acceleration=(this.destinationX-this.x)*this.friction,this.previousX=0}return n(e,[{key:"step",value:function(t){return this.velocity+=this.acceleration,this.x+=this.velocity,console.log("acceleration "+this.acceleration+" velocity "+this.velocity),this.velocity*=1-this.friction,this.acceleration=0,this.previousX=this.x,this.x}},{key:"isFinished",value:function(){return Math.round(this.velocity/this.tolerance)===0?!0:!1}}]),e}();t.exports=i}),define("animate",["exports","module","./utils","./animators/friction"],function(e,t,n,r){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=s(n),a=s(r),f=function(){function e(t){return o(this,e),this._DEFAULT_OPTIONS={time:1e3,startValue:0,endValue:1,update:function(){},complete:function(){}},this._time=null,this._startValue=null,this._endValue=null,this._lastTime=null,this._startTime=null,this._options={},this._deltas=null,this._isAnimating=!1,this._animator=null,this._nowValue=null,this._init(t),this}return i(e,[{key:"start",value:function(){return this._lastTime=0,this._startTime=0,this._deltas=[],this._animator=new a["default"],this._start(),this}},{key:"destroy",value:function(){console.log("destroy"),window.cancelAnimationFrame(this._requestionAnimationFrameID),this._options=null}},{key:"_init",value:function(t){u["default"].extend(this._options,this._DEFAULT_OPTIONS),u["default"].extend(this._options,t),this._time=this._options.time,this._startValue=this._options.startValue,this._endValue=this._options.endValue}},{key:"_start",value:function(){this._isAnimating=!0,this._startTime=this._lastTime=(new Date).getTime(),this._tick()}},{key:"_tick",value:function(){var t=(new Date).getTime(),n=(t-this._lastTime)/this._time;this._lastTime=t;var r=this._animator.step(n);this._animator.isFinished()===!1?(this._nowValue=this._startValue+(this._endValue-this._startValue)*r,this._options.update(this._nowValue),this._requestionAnimationFrameID=window.requestAnimationFrame(this._tick.bind(this))):(this._nowValue=this._endValue,this._options.update(this._nowValue),this._options.complete(),this._isAnimating=!1)}}]),e}();t.exports=f}),define("rangedog",["exports","module","eventEmitter/EventEmitter","./animate","./utils"],function(e,t,n,r,i){"use strict";function u(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(t,n,r){var i=!0;e:while(i){var s=t,o=n,u=r;a=f=l=undefined,i=!1;var a=Object.getOwnPropertyDescriptor(s,o);if(a===undefined){var f=Object.getPrototypeOf(s);if(f===null)return undefined;t=f,n=o,r=u,i=!0;continue e}if("value"in a)return a.value;var l=a.get;return l===undefined?undefined:l.call(u)}},l=u(n),c=u(r),h=u(i),p=function(e){function t(e){a(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this._DEFAULT_OPTIONS={length:1,frameLength:1,wrap:!1,inertia:!1,rounded:!1,update:function(){}},this._options={},this._length=null,this._inertia=null,this._wrap=null,this._rounded=null,this._updateCallback=null,this._x=0,this._roundedX=0,this._deltas=null,this._animateInstance=null,this._isAnimating=!0,this._init(e)}return f(t,e),s(t,[{key:"index",get:function(){return this._getX()}},{key:"increment",value:function(t){this._increment(t)}},{key:"setTo",value:function(t){this._setTo(t)}},{key:"slideTo",value:function(t){this._slideTo(t)}},{key:"stop",value:function(){this._stop()}},{key:"activateInertiaIfAny",value:function(){this._activateInertia()}},{key:"_init",value:function(t){h["default"].extend(this._options,this._DEFAULT_OPTIONS),h["default"].extend(this._options,t),this._length=this._options.length,this._wrap=this._options.wrap,this._inertia=this._options.inertia,this._rounded=this._options.rounded,this._updateCallback=this._options.update,this._deltas=[]}},{key:"_increment",value:function(t){this._clearAnimation();var n=this._x+t;this._deltas.push({x:t,time:(new Date).getTime()}),this._setX(n)}},{key:"_setTo",value:function(t){this._clearAnimation(),this._setX(t)}},{key:"_slideTo",value:function(t){var n=arguments[1]===undefined?!0:arguments[1];return this._clearAnimation(),t===this._x?!1:(this._isAnimating=!0,n===!0&&(t=this._checkAndAdjustPolarityForShortestDistance(t,this._x,this._length)),this._animateInstance=new c["default"]({startValue:this._x,endValue:t,update:this._onAnimateUpdate.bind(this),complete:this._onAnimateComplete.bind(this)}),this._animateInstance.start(),!0)}},{key:"_checkAndAdjustPolarityForShortestDistance",value:function(t,n,r){var i=t-n,s=0;return i<0?(s=t+(r-n),Math.abs(i)<s?t:n+s):(s=n+(r-t),i<s?t:n-s)}},{key:"_stop",value:function(){this._clearAnimation()}},{key:"_setX",value:function(t){this._x=t,this._wrap===!0&&(this._x=this._modulo(t,this._length));if(this._rounded===!0){t=Math.round(this._x),t===this._length&&(t=0);if(this._roundedX===t)return!1;this._roundedX=t}this._updateCallback(t)}},{key:"_getX",value:function(){var t=this._x;return this._rounded===!0&&(t=Math.round(this._x),t===this._length&&(t=0)),t}},{key:"_modulo",value:function(t,n){return(t%n+n)%n}},{key:"_clearAnimation",value:function(){this._isAnimating=!1,this._animateInstance&&(this._animateInstance.destroy(),this._animateInstance=null)}},{key:"_onAnimateUpdate",value:function(t){this._setX(t)}},{key:"_onAnimateComplete",value:function(){this._clearAnimation()}},{key:"_activateInertia",value:function(){if(!this._deltas&&this._deltas.length===0)return!1;var t=this._deltas.pop(),n=t.x;if((new Date).getTime()-t.time>100)return!1;var r=this._x+n/.1;console.log("_activateInertia: destinationX "+r+" velocity "+n),this._slideTo(r,!1)}}]),t}(l["default"]);t.exports=p}),define("dragger",["exports","module","unidragger"],function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(t,n,r){var i=!0;e:while(i){var s=t,o=n,u=r;a=f=l=undefined,i=!1;var a=Object.getOwnPropertyDescriptor(s,o);if(a===undefined){var f=Object.getPrototypeOf(s);if(f===null)return undefined;t=f,n=o,r=u,i=!0;continue e}if("value"in a)return a.value;var l=a.get;return l===undefined?undefined:l.call(u)}},a=s(n),f=function(e){function t(e){o(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.handles=null,this.element=e,this.last=0,this.modifier=.25}return u(t,e),r(t,[{key:"create",value:function(){this.handles=[this.element],this.bindHandles()}},{key:"dragStart",value:function(t,n){this.emit("dragStart")}},{key:"dragMove",value:function(t,n,r){var i=this.modifier*r.x,s=i-this.last;this.last=i,this.emit("dragMove",s)}},{key:"dragEnd",value:function(t,n){this.emit("dragEnd")}}]),t}(a["default"]);t.exports=f}),define("main",["exports","almond","unidragger","./rangedog","./dragger"],function(e,t,n,r,i){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=o(t),f=o(n),l=o(r),c=o(i),h=function(){function e(){u(this,e),this._rangedog=null,this._content=null,this._init()}return s(e,[{key:"_init",value:function(){var t=document.getElementsByClassName("range")[0];this._dragger=new c["default"](t),this._dragger.create();var n={length:180,wrap:!0,inertia:!0,rounded:!0,update:this._onRangeUpdate.bind(this)};this._rangedog=new l["default"](n),this._dragger.on("dragMove",this._onDragMove.bind(this)),this._dragger.on("dragEnd",this._onDragEnd.bind(this));var r=document.getElementsByClassName("range__next")[0],i=document.getElementsByClassName("range__previous")[0];r.addEventListener("click",this._onNextClick.bind(this)),i.addEventListener("click",this._onPreviousClick.bind(this)),this._content=document.getElementsByClassName("range__content")[0]}},{key:"_onNextClick",value:function(){this._rangedog.slideTo(this._rangedog.index-50)}},{key:"_onPreviousClick",value:function(){this._rangedog.slideTo(45)}},{key:"_onRangeUpdate",value:function(t){console.log("_onRangeUpdate "+t),t*=-100,this._content.style.transform="translate3d("+t+"%, 0, 0)"}},{key:"_onDragMove",value:function(t){this._rangedog.increment(t)}},{key:"_onDragEnd",value:function(){this._rangedog.activateInertiaIfAny()}}]),e}();new h}),require(["main"]);